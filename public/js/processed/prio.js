var PINNED_ITEMS="thatsmybis.pinnedItems";function makeIconLight(t){t.removeClass("fas"),t.addClass("fal")}function makeIconSolid(t){t.removeClass("fal"),t.addClass("fas")}function sortItems(){var t=[],e=Cookies.get(PINNED_ITEMS);e&&((t=JSON.parse(e))||(t=[])),$(".js-pin-sortable").each(function(){var e=$(this).data("itemId");if(t.find(function(t){return t===e})){var i=-1e6+t.indexOf(e);$(this).attr("data-user-order",i),makeIconSolid($(this).find(".js-pin-item"))}else{var n=$(this).attr("data-original-order");$(this).attr("data-user-order",n),makeIconLight($(this).find(".js-pin-item"))}}),$("#pinnableList").children(".js-pin-sortable").sort(function(t,e){var i,n;return parseInt(t.getAttribute("data-user-order"))>parseInt(e.getAttribute("data-user-order"))?1:-1}).appendTo($("#pinnableList")),setTimeout(function(){$(".tooltip").remove()},100)}function updatePlaceholders(){$("ol.js-sortable-lazy").each(function(){var t=0;$(this).find('input[name$="[order]"]').each(function(){t++,$(this).attr("placeholder",t)})})}$(document).ready(function(){warnBeforeLeaving("#editForm"),$(".js-sortable-lazy").one("mouseenter",function(){$(this).sortable({handle:".js-sort-handle",stop:function stop(t,e){updatePlaceholders()}})}),$(".js-pin-item").click(function(){var t=$(this).data("itemId"),e=Cookies.get(PINNED_ITEMS);if(e){var i=JSON.parse(e);i.find(function(e){return e===t})?(i=i.filter(function(e){return e!==t}),Cookies.set(PINNED_ITEMS,JSON.stringify(i))):(i.push(t),Cookies.set(PINNED_ITEMS,JSON.stringify(i)))}else{var n=[];n.push(t),Cookies.set(PINNED_ITEMS,JSON.stringify(n))}sortItems()}),sortItems(),$(".js-reset-ranks").click(function(){var t=$(this).data("index");$("input.js-rank[data-index='".concat(t,"']")).val("")}),$(".js-reset-all-ranks").click(function(){$("input.js-rank").val("")}),$(".loadingBarContainer").removeClass("d-flex").hide(),$("#editForm").show()});
